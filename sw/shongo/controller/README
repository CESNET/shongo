Shongo Controller

BUILD

To build controller by maven go to a directory
<shongo_repository>/sw/shongo and type the following
command:

    mvn package

To run controller on localhost at port 8008 type:

    bun/controller.sh

To connect to the controller use the client application:

    bin/client_cli.sh

REQUIREMENTS

Controller requires java and maven to compile.

To install maven download the version 2.2.1 from
http://maven.apache.org/download.html and follow
the Installation Instructions on the same page.

To install java on Ubuntu/Debian system type
the following command:

    sudo apt-get install sun-java6-jdk

POSTGRESQL DATABASE

Connect to PostgreSQL console (e.g., run 'psql' command as 'postgres' system user).

Create database for the Shongo:

    CREATE DATABASE shongo;

Create user for connecting to the database:

    CREATE USER shongo WITH PASSWORD 'shongo';

Change the database owner to the created user:

    ALTER DATABASE shongo OWNER TO shongo;

Add the following lines to controller.cfg.xml configuration file:

    <database>
        <driver>org.postgresql.Driver</driver>
        <url>jdbc:postgresql://127.0.0.1/shongo</url>
        <username>shongo</username>
        <password>shongo</password>
    </database>

HIBERNATE NOTES

1) If OneToMany association without mappedBy attribute is declared as java.util.List, deletion of one item
   cause delete all items and insert all that should not be deleted.

   http://assarconsulting.blogspot.cz/2009/08/why-hibernate-does-delete-all-then-re.html

2) Associations should by mapped by field access. Getter should return unmodifiableList or unmodifiableSet, setter
   should not be present and addXXX/removeXXX methods should be present.

   http://vard-lokkur.blogspot.cz/2011/04/jpa-and-unmodifiable-collections.html
   http://www.javacodegeeks.com/2012/03/hibernate-performance-tips-dirty.html

3) If association is bidirectional we must take care of sync of both sides.
