<?xml version="1.0" encoding="UTF-8" ?>

<!-- Default Configuration of Domain Controller -->
<configuration>

    <!-- Timezone in which the controller should work and
         which is used as default for date/times without specific timezone -->
    <timezone>UTC</timezone>

    <!-- Configuration of controlled domain -->
    <domain>
        <name>unknown</name>
        <organization>Unknown Organization</organization>
    </domain>

    <!-- Database settings -->
    <database>
        <driver>org.hsqldb.jdbcDriver</driver>
        <url>jdbc:hsqldb:file:data/controller; shutdown=true; hsqldb.write_delay=false;</url>
        <username>sa</username>
        <password></password>
    </database>

    <!-- Configuration of XML-RPC server -->
    <rpc>
        <host></host>
        <port>8181</port>
    </rpc>

    <!-- Configuration of Jade container -->
    <jade>
        <host>127.0.0.1</host>
        <port>8282</port>
        <agent-name>Controller</agent-name>
        <platform-id>Shongo</platform-id>
    </jade>

    <!-- Security settings -->
    <security>
        <!-- Authorization server -->
        <server>https://shongo-auth-dev.cesnet.cz</server>
        <!-- Specifies access token which won't be verified and can be used for testing purposes -->
        <testing-access-token>1e3f174ceaa8e515721b989b19f71727060d0839</testing-access-token>
        <!-- Specifies authorization cache expirations -->
        <expiration>
            <!-- Expiration of user-id by access-token -->
            <user-id>PT30M</user-id>
            <!-- Expiration of user information by user-id -->
            <user-information>PT5M</user-information>
            <!-- Expiration of user ACL by user-id -->
            <acl>PT5M</acl>
        </expiration>
    </security>

    <!-- SSL configuration -->
    <ssl>
        <!-- Mapping hosts to different hosts for cerfificate verification -->
        <host-verification-mapping mapped-host="shongo-auth-dev.cesnet.cz" target-host="hroch.cesnet.cz"/>
    </ssl>

    <!-- Worker periodically starts preprocessor and scheduler -->
    <worker>
        <!-- Period in which the worker is periodically working -->
        <period>PT5S</period>
        <!-- Length of working interval -->
        <interval>P31D</interval>
    </worker>

    <!-- Executor periodically checks compartments for execution -->
    <executor>
        <!-- Period in which the executor is periodically checking compartments -->
        <period>PT15S</period>
        <!-- Configuration for each executable -->
        <executable>
            <!-- Period modifying compartment starting date/time -->
            <start>PT-30S</start>
            <!-- Period modifying compartment ending date/time -->
            <end>PT-30S</end>
        </executable>
        <!-- Configuration of durations which should be reserved for starting executables -->
        <starting-duration>
            <!-- Duration for which the executor waits when a room is being to started -->
            <room>PT5S</room>
        </starting-duration>
    </executor>

    <!-- Reservation configuration -->
    <reservation>
        <!-- Configuration for reservation of resources -->
        <resource>
            <!-- Maximum duration of a single resource reservation -->
            <max-duration>P1W</max-duration>
        </resource>

        <!-- Configuration for reservation of values (which are used for aliases) -->
        <value>
            <!-- Maximum duration of a single alias reservation -->
            <max-duration>P1Y</max-duration>
        </value>
    </reservation>

    <!-- Configuration for sending emails -->
    <smtp>
        <sender>no-reply@shongo.cz</sender>
        <port>25</port>
    </smtp>

</configuration>
