<?xml version="1.0" encoding="UTF-8"?>

<launcher>
    <variable name="host" value="text" default-value="127.0.0.1:9000" />
    <variable name="count" value="2" />
    <variable name="param">
        <platform type="fuse" value="--activemq=127.0.0.1"/>
        <platform type="jxta" value="--param=value"/>
    </variable>

    <instance id="jvm1" type="local">
        ./jxta.sh --agent=agent1 --type=sender
    </instance>
    <instance id="jvm2" type="remote" host="127.0.0.1:9000">
        ./jxta.sh --agent=agent2 --type=receiver
    </instance>

    <sleep duration="1000" />

    <step>
        <command for="jvm1">send agent2 Hello</command>
    </step>

    <sleep duration="3000" />

    <step>
        <command for="jvm1">send agent2 Hello2</command>
        <command for="jvm2">send agent1 Hi</command>
    </step>

    <sleep duration="1000" />

    <step>
        <command>quit</command>
    </step>

</launcher>